{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/varis/Downloads/react-chat-app-firebase-public-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/varis/Downloads/react-chat-app-firebase-public-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/varis/Downloads/react-chat-app-firebase-public-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{auth,db}from'../firebase';import{addDoc,collection,serverTimestamp}from'firebase/firestore';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var style={form:\"h-14 w-full max-w-[728px]  flex text-xl absolute bottom-0\",input:\"w-full text-xl p-3 bg-gray-900 text-white outline-none border-none\",button:\"w-[20%] bg-green-500\"};var SendMessage=function SendMessage(_ref){var scroll=_ref.scroll;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var sendMessage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var _auth$currentUser,uid,displayName;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(input==='')){_context.next=4;break;}alert('Please enter a valid message');return _context.abrupt(\"return\");case 4:_auth$currentUser=auth.currentUser,uid=_auth$currentUser.uid,displayName=_auth$currentUser.displayName;_context.next=7;return addDoc(collection(db,'messages'),{text:input,name:displayName,uid:uid,timestamp:serverTimestamp()});case 7:setInput('');scroll.current.scrollIntoView({behavior:'smooth'});case 9:case\"end\":return _context.stop();}}},_callee);}));return function sendMessage(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{onSubmit:sendMessage,className:style.form,children:[/*#__PURE__*/_jsx(\"input\",{value:input,onChange:function onChange(e){return setInput(e.target.value);},className:style.input,type:\"text\",placeholder:\"Message\"}),/*#__PURE__*/_jsx(\"button\",{className:style.button,type:\"submit\",children:\"Send\"})]});};export default SendMessage;","map":{"version":3,"names":["React","useState","auth","db","addDoc","collection","serverTimestamp","style","form","input","button","SendMessage","scroll","setInput","sendMessage","e","preventDefault","alert","currentUser","uid","displayName","text","name","timestamp","current","scrollIntoView","behavior","target","value"],"sources":["C:/Users/varis/Downloads/react-chat-app-firebase-public-main/src/components/SendMessage.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {auth, db} from '../firebase'\nimport {addDoc, collection, serverTimestamp} from 'firebase/firestore'\n\nconst style = {\n  form: `h-14 w-full max-w-[728px]  flex text-xl absolute bottom-0`,\n  input: `w-full text-xl p-3 bg-gray-900 text-white outline-none border-none`,\n  button: `w-[20%] bg-green-500`,\n};\n\nconst SendMessage = ({scroll}) => {\n  const [input, setInput] = useState('');\n\n  const sendMessage = async (e) => {\n    e.preventDefault()\n    if (input === '') {\n        alert('Please enter a valid message')\n        return\n    }\n    const {uid, displayName} = auth.currentUser\n    await addDoc(collection(db, 'messages'), {\n        text: input,\n        name: displayName,\n        uid,\n        timestamp: serverTimestamp()\n    })\n    setInput('')\n    scroll.current.scrollIntoView({behavior: 'smooth'})\n  }\n\n  return (\n    <form onSubmit={sendMessage} className={style.form}>\n      <input\n        value={input}\n        onChange={(e) => setInput(e.target.value)}\n        className={style.input}\n        type='text'\n        placeholder='Message'\n      />\n      <button className={style.button} type='submit'>\n        Send\n      </button>\n    </form>\n  );\n};\n\nexport default SendMessage;\n"],"mappings":"scAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAAQC,IAAR,CAAcC,EAAd,KAAuB,aAAvB,CACA,OAAQC,MAAR,CAAgBC,UAAhB,CAA4BC,eAA5B,KAAkD,oBAAlD,C,wFAEA,GAAMC,MAAK,CAAG,CACZC,IAAI,4DADQ,CAEZC,KAAK,qEAFO,CAGZC,MAAM,uBAHM,CAAd,CAMA,GAAMC,YAAW,CAAG,QAAdA,YAAc,MAAc,IAAZC,OAAY,MAAZA,MAAY,CAChC,cAA0BX,QAAQ,CAAC,EAAD,CAAlC,wCAAOQ,KAAP,eAAcI,QAAd,eAEA,GAAMC,YAAW,6FAAG,iBAAOC,CAAP,0JAClBA,CAAC,CAACC,cAAF,GADkB,KAEdP,KAAK,GAAK,EAFI,0BAGdQ,KAAK,CAAC,8BAAD,CAAL,CAHc,0DAMSf,IAAI,CAACgB,WANd,CAMXC,GANW,mBAMXA,GANW,CAMNC,WANM,mBAMNA,WANM,uBAOZhB,OAAM,CAACC,UAAU,CAACF,EAAD,CAAK,UAAL,CAAX,CAA6B,CACrCkB,IAAI,CAAEZ,KAD+B,CAErCa,IAAI,CAAEF,WAF+B,CAGrCD,GAAG,CAAHA,GAHqC,CAIrCI,SAAS,CAAEjB,eAAe,EAJW,CAA7B,CAPM,QAalBO,QAAQ,CAAC,EAAD,CAAR,CACAD,MAAM,CAACY,OAAP,CAAeC,cAAf,CAA8B,CAACC,QAAQ,CAAE,QAAX,CAA9B,EAdkB,sDAAH,kBAAXZ,YAAW,6CAAjB,CAiBA,mBACE,cAAM,QAAQ,CAAEA,WAAhB,CAA6B,SAAS,CAAEP,KAAK,CAACC,IAA9C,wBACE,cACE,KAAK,CAAEC,KADT,CAEE,QAAQ,CAAE,kBAACM,CAAD,QAAOF,SAAQ,CAACE,CAAC,CAACY,MAAF,CAASC,KAAV,CAAf,EAFZ,CAGE,SAAS,CAAErB,KAAK,CAACE,KAHnB,CAIE,IAAI,CAAC,MAJP,CAKE,WAAW,CAAC,SALd,EADF,cAQE,eAAQ,SAAS,CAAEF,KAAK,CAACG,MAAzB,CAAiC,IAAI,CAAC,QAAtC,kBARF,GADF,CAcD,CAlCD,CAoCA,cAAeC,YAAf"},"metadata":{},"sourceType":"module"}